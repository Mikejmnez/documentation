= The Hyrax Data Server Installation and Configuration Guide
:Leonard Porrello <lporrel@gmail.com>:
{docdate}
:numbered:
:toc:
:tabsize: 4
:indent: 4
:doctype: book

[preface]
include::preface.adoc[lines="1,6..-1", leveloffset=+1]

// TODO Make this a multi-part book? Maybe... To do that with the
// content we have, raise the levels up one notch. That means reduce the
// leveloffset values by one (+1 --> 0, +2 --> +1) and the sections in
// this document by one ('==' --> '=', ...).
//
// Right now there are more pressing problems.
//
// An overview of the server. This document includes the section title
// The 'lines' attribute tells the include macro to only include lines 1 and 8 to the end (-1)
include::Hyrax.adoc[lines="1,8..-1", leveloffset=+1]

== Installation

:leveloffset: +2

NOTE: TODO Add (or find ...) a section on BES installation. It might
have gotten lost; Use _Master_Hyrax_Sample_BES_Installations.adoc_? If
so that file will need content edits of a massive nature.

// This document explains how to install Hyrax.
include::Master_Hyrax_Installation.adoc[lines="1,8..-1"]

// - - - - - - - - - - - - - 
// I dropped this include as the content is now part 
// of Master_Hyrax_Installation.adoc - ndp
// This document explains how to install the OLFS.
// include::Master_Hyrax_OLFS_Installation.adoc[lines="1,8..-1"]
// - - - - - - - - - - - - - 

:leveloffset: -2

== Configuration

:leveloffset: +2

// General configuration informat
include::Master_Hyrax_Configuration.adoc[lines="1,6..-1"]

// Customize the way the server looks when used with a web browser.
include::Master_Hyrax_Customizing_Hyrax.adoc[lines="1,8..-1"]

// Integrate Hyrax with the Apache web demon.
include::Master_Hyrax_Apache_Integration.adoc[lines="1,8..-1"]

:leveloffset: -2

== Operation

:leveloffset: +2

NOTE: TODO Add a section about starting the OLFS
NOTE: TODO Add information about configuration of the server so it starts automatically when a machine boots.

// About starting and stopping the BES.
NOTE: TODO Add text about using _besd_ to the following

include::Hyrax_Starting_and_stopping_the_BES.adoc[lines="1,8..-1"]

// The web GUI that enables an administrator to control the various parts of a Hyrax server.
include::Master_Hyrax_Administrators_Interface.adoc[lines="1,8..-1"]

:leveloffset: -2

== Security
:leveloffset: +2

// Install Hyrax for use in production environments so it will meet typical organizational security requirements.
include::Master_Hyrax_Secure_Installation_Guidelines.adoc[lines="1,8..-1"]

// Configure a Hyrax server to support user authentication.
include::Master_Hyrax_User_Authentication.adoc[lines="1,8..-1"]

// Configure client software such as browsers or curl
// to authenticate with a server.
include::DAP_Clients_Authentication.adoc[lines="1,8..-1"]

:leveloffset: -2

== Troubleshooting

NOTE: TODO Look at these files and determine how to better organize them so the TOC is not so bloated with level-two items

NOTE: Fix Troubleshooting section - components should be stand alone 

include::Master_Troubleshooting.adoc[lines="1,6..-1", leveloffset=+1]

// The [appendix] macro gives the following sections the correct numbering 

// Install and configure Hyrax support for the OGC web mapping services protocol.
[appendix]
include::Master_Hyrax_WMS.adoc[lines="1,8..-1", leveloffset=+1] 

// Specific configuration parameters for various Hyrax modules
[appendix]
include::Master_Handlers.adoc[lines="1,6..-1", leveloffset=+1]

// Install and configure Hyrax's support for user specified aggregations of
// data.
[appendix]
include::Master_Aggregation.adoc[lines="1,6..-1", leveloffset=+1]

[[user_specified_aggregation]]
[appendix]
include::./aggregation/Aggregation_enhancements.adoc[lines="1,6..-1",leveloffset=+1]


// The default server-side processing functions that are distributed with Hyrax
[appendix]
include::Master_Server_Side_Processing_Functions.adoc[lines="1,6..-1", leveloffset=+1]

[appendix]
include::BES_XML_Commands.adoc[leveloffset=+1"]

