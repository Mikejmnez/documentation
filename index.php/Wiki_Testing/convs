
<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Wiki Testing/convs - OPeNDAP Documentation</title>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Wiki_Testing_convs skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Wiki Testing/convs</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From OPeNDAP Documentation</div>
		<div id="contentSub"></div>
		

		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><a href="../index.php/FreeForm" title="FreeForm">return to FreeForm</a>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#FreeForm_ND_Conventions"><span class="tocnumber">1</span> <span class="toctext">FreeForm ND Conventions</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#File_Name_Conventions"><span class="tocnumber">1.1</span> <span class="toctext">File Name Conventions</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#File_Name_Extensions"><span class="tocnumber">1.2</span> <span class="toctext">File Name Extensions</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#File_Name_Relationships"><span class="tocnumber">1.3</span> <span class="toctext">File Name Relationships</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Determining_Input_and_Output_Formats"><span class="tocnumber">1.4</span> <span class="toctext">Determining Input and Output Formats</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Locating_Format_Files"><span class="tocnumber">1.5</span> <span class="toctext">Locating Format Files</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Search_Sequence"><span class="tocnumber">1.5.1</span> <span class="toctext">Search Sequence</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Case_Sensitivity"><span class="tocnumber">1.5.2</span> <span class="toctext">Case Sensitivity</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Command_Line_Arguments"><span class="tocnumber">1.6</span> <span class="toctext">Command Line Arguments</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Specifying_Input_and_Output_Files"><span class="tocnumber">1.6.1</span> <span class="toctext">Specifying Input and Output Files</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Specifying_Format_Description_Source"><span class="tocnumber">1.6.2</span> <span class="toctext">Specifying Format Description Source</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Changing_Run-time_Parameters"><span class="tocnumber">1.6.3</span> <span class="toctext">Changing Run-time Parameters</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Defining_Filters"><span class="tocnumber">1.6.4</span> <span class="toctext">Defining Filters</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="FreeForm_ND_Conventions"><span class="mw-headline-number">1</span> FreeForm ND Conventions</span></h1>
<p>File name conventions have been defined for FreeForm ND. If you follow
these conventions, FreeForm ND can locate format files through a
default search sequence. Using the file name conventions also lets you
reduce the number of arguments on the command line. In addition to
standard file names, FreeForm ND programs recognize various standard
command line arguments.
</p>
<h2><span class="mw-headline" id="File_Name_Conventions"><span class="mw-headline-number">1.1</span> File Name Conventions</span></h2>
<p>Naming conventions have been established for files accessed by
FreeForm ND. Although you are not required to follow these
conventions, using them lets you enter abbreviated commands when you
are using FreeForm ND-based programs. FreeForm ND can then
automatically execute several operations:
</p><p><br />
</p>
<ul>
<li>  Determination of input and output formats when they are not explicitly identified in the relevant format descriptions in format files
</li>
<li>  Location of format files when they are not specified on the command line
</li>
</ul>
<h2><span class="mw-headline" id="File_Name_Extensions"><span class="mw-headline-number">1.2</span> File Name Extensions</span></h2>
<p>The expected extensions for data files are as follows:
</p>
<blockquote>
<dl>
<dt> <font color="green">.dat</font>&#160;</dt>
<dd>  For ASCII, e.g., <font color="green">latlon.dat</font>
</dd>
</dl>
<dl>
<dt> <font color="green">.dab</font>&#160;</dt>
<dd> For dBASE, e.g., <font color="green">latlon.dab</font>
</dd>
</dl>
<dl>
<dt> <font color="green">.bin</font>&#160;</dt>
<dd> binary or anything that is not <font color="green">.dat</font> or <font color="green">.dab</font>, e.g., <font color="green">latlon.bin</font>
</dd>
</dl>
</blockquote>
<p><br />
The expected extension for format description files is <font color="green">.fmt</font>, e.g.,
<font color="green">latlon.fmt</font>. You should not use mixed case extensions for format
description files if you want to take advantage of FreeForm ND's
default search capabilities. If you explicitly specify the names of
format description files on the command line, you can use mixed case
extensions.
</p>
<blockquote>Previous versions of FreeForm ND used variable description files
<p>(formerly called format specification files) each of which contained
variable descriptions for one file. Expected extensions for these
files were <font color="green">.afm</font> (ASCII), <font color="green">.bfm</font> (binary), and <font color="green">.dfm</font> (dBASE). Variable descriptions for one or more files can now be
incorporated into a single format description file. It is
recommended that you convert and combine (as appropriate) existing
</p>
variable description files into format description files.  </blockquote>
<p><br />
</p>
<h2><span class="mw-headline" id="File_Name_Relationships"><span class="mw-headline-number">1.3</span> File Name Relationships</span></h2>
<p>FreeForm ND-based programs expect certain relationships between data
file and format description file names as outlined below.
</p><p><br />
</p>
<ul>
<li>  The data file is named datafile.ext where datafile is the file name of your choosing and ext is the extension. Example: <font color="green">latlon.dat</font>
</li>
<li>  The corresponding format description file should be named datafile.fmt. Example: <font color="green">latlon.fmt</font>
</li>
<li>  If one format description file is used for multiple data files, all with the same extension, the format description file should be named ext.fmt. Example: <font color="green">ll.fmt</font> is the format description file for <font color="green">lldat1.ll</font>, <font color="green">lldat2.ll</font>, and <font color="green">lldat3.ll</font>.
</li>
</ul>
<p>Again, although not required, it is to your advantage to use these
conventions.
</p>
<h2><span class="mw-headline" id="Determining_Input_and_Output_Formats"><span class="mw-headline-number">1.4</span> Determining Input and Output Formats</span></h2>
<p>You can optionally include the read/write type ("<font color="green">input</font>" or
"<font color="green">output</font>") in format descriptors, e.g.,
<font color="green">ASCII_input_data</font>. You may not want to specify the read/write
type in some circumstances. For example, you may need to translate
from native ASCII to binary, then back to ASCII. ASCII is the input
format in the first translation and the output format in the second
translation, vice versa for binary. You would need to edit the format
description file before executing the second translation if you
included read/write type in the format descriptors.
</p>
<blockquote>If you use the -ft option, you do not need to edit the format
description file. See below.</blockquote>
<p>If you do not specify read/write type, FreeForm ND can nevertheless
determine which format in a format description file is input and which
is output as long as you have adhered to FreeForm ND filenaming
conventions.
</p><p><br />
</p>
<ul>
<li>If the input format is not specified, and
<ul>
<li>the input data filename extension is <font color="green">.bin</font>, assume binary input.
</li>
<li>the input data filename extension is <font color="green">.dab</font>, assume dBASE input.
</li>
<li>the input data filename extension is <font color="green">.dat</font>, assume ASCII input.
</li>
<li>the input data filename extension is anything else, assume binary input.
</li>
</ul>
<dl>
<dd>
</dd>
</dl>
</li>
<li>If the output format is not specified, and
<ul>
<li>the input format is dBASE, the output is ASCII or binary, whichever is found first.
</li>
<li>the input format is ASCII, the output is binary or dBASE, whichever is found first.
</li>
</ul>
<dl>
<dd>
</dd>
</dl>
</li>
</ul>
<blockquote>The appropriate format descriptions must be in the format
<p>description file(s) used by FreeForm ND for a translation. If, for
example, FreeForm ND determines the input format is binary and the
output format is ASCII, there must be a format description for each
</p>
type. </blockquote>
<p>The checkvar program needs only an input format.
</p>
<h2><span class="mw-headline" id="Locating_Format_Files"><span class="mw-headline-number">1.5</span> Locating Format Files</span></h2>
<p>FreeForm ND programs use the following search sequence to find a
format file (format or variable description file) for the data file
datafile.ext when the format file name is not explicitly specified on
the command line. In summary, FreeForm ND searches the directory
specified by the GeoVu keyword <font color="green">format_dir</font> (defined in a equivalence
table or in the environment), the current or working directory, and
the data file's home directory. The rules are applied in the order
given below until a format file is found or all rules have been
exhausted. If the relevant format file does not follow FreeForm ND
conventions for name or location, it should be explicitly specified on
the command line.
</p>
<blockquote>GeoVu is a FreeForm ND-based application for data access and
<p>visualization. FreeForm ND applications other than GeoVu use GeoVu
</p>
keywords. </blockquote>
<p>For information about equivalence tables, see the GeoVu Tools
Reference Guide, available from the NGDC.
</p>
<h3><span class="mw-headline" id="Search_Sequence"><span class="mw-headline-number">1.5.1</span> Search Sequence</span></h3>
<ol>
<li>Search the directory given by the GeoVu keyword <font color="green">format_dir</font> for a format description file named datafile.fmt.
</li>
<li>Search the directory given by the GeoVu keyword <font color="green">format_dir</font> for variable description files named <font color="green">datafile.afm</font>, <font color="green">datafile.bfm</font>, and <font color="green">datafile.dfm</font>. <blockquote>Step 2 is included to accommodate variable description files that were created using previous versions of FreeForm ND. It is recommended that you convert existing variable description files to format description files. </blockquote>
</li>
<li>Search the directory given by the GeoVu keyword <font color="green">format_dir</font> for a format description file named ext.fmt. If the GeoVu keyword <font color="green">format_dir</font> is not found, FreeForm ND continues the search for a format file as follows.
</li>
<li>Search the current (default) directory for a format description file named datafile.fmt.
</li>
<li>Search the current directory for variable description files named <font color="green">datafile.afm</font>, <font color="green">datafile.bfm</font>, and <font color="green">datafile.dfm</font>. Use the criteria in step 2 for determining input and output format files.
</li>
<li>Search the current directory for a format description file named <font color="green">ext.fmt</font>. If the data file's home directory is not the same as the current directory, FreeForm ND continues the search for a format file with steps 7-9. The data file's home directory is given by the directory path component of the data file name. If the data file name has no directory path component, the home directory search is not done.
</li>
<li>Search the data file's home directory for a format description file named <font color="green">datafile.fmt</font>.
</li>
<li>Search the data file's home directory for variable description files named <font color="green">datafile.afm</font>, <font color="green">datafile.bfm</font>, and <font color="green">datafile.dfm</font>. Use the criteria in step 2 for determining input and output format files.
</li>
<li>Search the data file's home directory for a format description file named <font color="green">ext.fmt</font>.
</li>
</ol>
<h3><span class="mw-headline" id="Case_Sensitivity"><span class="mw-headline-number">1.5.2</span> Case Sensitivity</span></h3>
<p>FreeForm ND adheres to the following rules for case sensitivity (in
applicable operating systems) when it searches for a format file for
the data file datafile.ext.
</p><p><br />
</p>
<ul>
<li>FreeForm ND preserves the case of datafile, for example, the default format file for the data file <font color="green">LATLON.BIN</font> is <font color="green">LATLON.fmt</font> (or <font color="green">LATLON.bfm</font>).
</li>
<li>FreeForm ND searches for a format file with a lower case extension. That is, the format file must have its extension in lower case no matter what the case of datafile. For example, the default format file for the data file <font color="green">LatLon.dat</font> is <font color="green">LatLon.fmt</font> (or <font color="green">LatLon.afm</font>), and <font color="green">TIMEDATE.fmt</font> (or <font color="green">TIMEDATE.bfm</font>) is the default format file for <font color="green">TIMEDATE.bin</font>.
</li>
<li>In searching for a format description file of type <font color="green">ext.fmt</font>, FreeForm ND preserves the case of ext. For example, for data files named <font color="green">lldat1.LL</font>, <font color="green">lldat2.LL</font>, and <font color="green">latlon3.LL</font>, the default format description file is <font color="green">LL.fmt</font>.
</li>
</ul>
<h2><span class="mw-headline" id="Command_Line_Arguments"><span class="mw-headline-number">1.6</span> Command Line Arguments</span></h2>
<p>FreeForm ND programs can take various command line arguments. The most
widely used or standard arguments are discussed in this section. They
are used for several different purposes: identifying input and output
files, identifying format files and titles, changing run-time
operation parameters, and defining data filters.
</p><p>The only required argument for any FreeForm ND program is the name of
the input file or file to be processed. All other arguments are
optional and can be in any order following the input file name. The
command line of a FreeForm ND program with the standard arguments has
the following form:
</p><p>application_name input_file [-f format_file]
</p><p>[-if input_format_file] [-of output_format_file] [-ft "title"] [-ift "title"] [-oft "title"] [-b local_buffer_size] [-c count] [-v var_file] [-q query_file] [-o output_file]
</p>
<blockquote>NOTE: To see a summary of command line usage for a FreeForm ND
<p>program, enter the program's name on the command line without any
</p>
arguments.  </blockquote>
<p><br />
</p>
<h3><span class="mw-headline" id="Specifying_Input_and_Output_Files"><span class="mw-headline-number">1.6.1</span> Specifying Input and Output Files</span></h3>
<dl>
<dt> <b>input_file</b>&#160;</dt>
<dd> Name of the file to be processed. Following FreeForm ND naming
</dd>
</dl>
<p>conventions, the standard extensions for data files are <font color="green">.dat</font> for ASCII format, <font color="green">.bin</font> for binary, and <font color="green">.dab</font> for dBASE.
</p>
<dl>
<dt> <b>-o output_file</b>&#160;</dt>
<dd> Option flag followed by the name of the output file. The standard extensions are the same as for input files.
</dd>
</dl>
<h3><span class="mw-headline" id="Specifying_Format_Description_Source"><span class="mw-headline-number">1.6.2</span> Specifying Format Description Source</span></h3>
<p>FreeForm ND offers a number of command line options for specifying the
source of the format descriptions that a program must find in order to
process data. The proper option or combination of options to use
depends on how you have constructed your format files.
</p><p><br />
</p>
<dl>
<dt> -f format_file&#160;</dt>
<dd> Option flag followed by the name of the format description file
</dd>
</dl>
<p>describing both input and output data.
</p>
<dl>
<dt> -if input_format_file&#160;</dt>
<dd> Option flag followed by the name of the format description file describing the input data. Also use this option for an input variable description file written using earlier versions of FreeForm ND.
</dd>
</dl>
<dl>
<dt> -of output_format_file&#160;</dt>
<dd> Option flag followed by the name of the format description file describing the output data. Also use this option for an output variable description file written using earlier versions of FreeForm ND.
</dd>
</dl>
<dl>
<dt> -ft title&#160;</dt>
<dd> Option flag followed by the title (enclosed in quotes) of the format to be used for both input and output data, in which case there is no reformatting. The title follows format type on the first line of a format description in a format description file.
</dd>
</dl>
<dl>
<dt> -ift title&#160;</dt>
<dd> Option flag followed by the title (enclosed in quotes) of the desired input format.
</dd>
</dl>
<dl>
<dt> -oft title&#160;</dt>
<dd> Option flag followed by the title (enclosed in quotes) of the desired output format.
</dd>
</dl>
<p><br />
</p>
<blockquote>NOTE: Previous versions of FreeForm ND used variable description files
<p>(<font color="green">.afm</font>, <font color="green">.bfm</font>, <font color="green">.dfm</font>). It is recommended that you
convert and combine (as appropriate) existing variable description
</p>
files into format description files. </blockquote>
<p>The various options available for specifying the source of a format
description offer you a great deal of flexibility-in naming files,
setting up format description files, and on the command line. In using
these options, you need to consider the content of your format
description files and how FreeForm ND will interpret the arguments on
the command line.
</p>
<h3><span class="mw-headline" id="Changing_Run-time_Parameters"><span class="mw-headline-number">1.6.3</span> Changing Run-time Parameters</span></h3>
<p>FreeForm ND includes three arguments that let you change run-time
parameters according to your needs. One argument lets you specify
local buffer size, another indicates the number of records to process,
and the third indicates which variables to process.
</p><p><br /> 
</p>
<dl>
<dt> -b local_buffer_size</dt>
<dd> Option flag followed by the size of the memory buffer used to
</dd>
</dl>
<p>process the data and format files. Default buffer size is 32,768. You many want to decrease the buffer size if you are running with low memory. Keep in mind that too small a buffer may result in unexpected behavior.
</p>
<dl>
<dt> -c count</dt>
<dd> Option flag followed by a number that specifies how many data
</dd>
</dl>
<p>records at the head or tail of the file to process. If &lt;math&gt;count &gt; 0&lt;/math&gt;, <i>count</i> records at the beginning of the file are processed. If &lt;math&gt;count &lt; 0&lt;/math&gt;, <i>count</i> records at the tail or end of the file are processed.
</p>
<dl>
<dt> -v var_file&#160;</dt>
<dd> Option flag followed by the name of a variable file. The file
</dd>
</dl>
<p>contains names of the variables in the input data file to be processed by the FreeForm ND program. Variable names in var_file can be separated by one or more spaces or each name can be on a separate line.
</p>
<h3><span class="mw-headline" id="Defining_Filters"><span class="mw-headline-number">1.6.4</span> Defining Filters</span></h3>
<p>The query option lets you define data filters via a query file so you
can precisely specify which data to process. The FreeForm ND program
will process only those records meeting the query criteria.
</p><p><br /> 
</p>
<dl>
<dt> -q query_file&#160;</dt>
<dd>
</dd>
</dl>
<p>Option flag followed by the name of the file containing query
criteria.
</p>



</div>
				<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
</body></html>