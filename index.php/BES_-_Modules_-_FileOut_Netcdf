
<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>BES - Modules - FileOut Netcdf - OPeNDAP Documentation</title>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-BES_-_Modules_-_FileOut_Netcdf skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">BES - Modules - FileOut Netcdf</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From OPeNDAP Documentation</div>
		<div id="contentSub"></div>
		

		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Status"><span class="tocnumber">2</span> <span class="toctext">Status</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Services_Handled"><span class="tocnumber">3</span> <span class="toctext">Services Handled</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Services_Provided"><span class="tocnumber">4</span> <span class="toctext">Services Provided</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Download"><span class="tocnumber">5</span> <span class="toctext">Download</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#How_to_use_the_module"><span class="tocnumber">6</span> <span class="toctext">How to use the module</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description"><span class="mw-headline-number">1</span> Description</span></h2>
<p>The File Out NetCDF module provides the ability to return OPeNDAP DataDDS objects as netcdf files. The module takes an OPeNDAP DataDDS and translates the attributes, data structure, and data into a netcdf file and streams the resulting file back to the caller. Currently, simple types, arrays, structures and grids are supported. Sequences are not yet supported.
<br /><br />
Go to <a href="../index.php/BES_File_Out_NetCDF" title="BES File Out NetCDF">this page</a> for more information on the specifics of how OPeNDAP data objects are written to NetCDF.
</p>
<h2><span class="mw-headline" id="Status"><span class="mw-headline-number">2</span> Status</span></h2>
<p>Stable release 1.3.2 with Hyrax 1.12
</p>
<h2><span class="mw-headline" id="Services_Handled"><span class="mw-headline-number">3</span> Services Handled</span></h2>
<p>This module does not handle any services but adds to an existing service
</p>
<h2><span class="mw-headline" id="Services_Provided"><span class="mw-headline-number">4</span> Services Provided</span></h2>
<p>The module provides an additional format to the <code>dap</code> service's <code>dods</code> command. The format is used to specify a "returnAs" format. Typically you will see responses of the dap2 format. This module provides the additional format of returning the OPenDAP data object as a netcdf file.
</p>
<h2><span class="mw-headline" id="Download"><span class="mw-headline-number">5</span> Download</span></h2>
<p>The latest version of this handler is included in the BES RPM distribution as of Hyrax 1.12, which you can download from the <a rel="nofollow" class="external text" href="http://opendap.org/download/hyrax">Hyrax download page</a>. You can get the source code for this module from the <a rel="nofollow" class="external text" href="https://github.com/OPENDAP/bes">BES</a> or <a rel="nofollow" class="external text" href="https://github.com/OPENDAP/fileout_netcdf">fileout_netcdf</a> projects from guthub. The BES project can be used to all of the source we use when building the bES for inclusion in the Hyrax releases; the fileout_netcdf project can be used to get just the source code for the module.
</p>
<h2><span class="mw-headline" id="How_to_use_the_module"><span class="mw-headline-number">6</span> How to use the module</span></h2>
<p>Once installed, the fonc.conf file is installed in the BES etc/bes/modules directory and is automatically loaded by the BES at startup. There is a configuration option that you can change for this module. The <code>FONc.Tempdir</code> parameter in the fonc.conf configuration file tells the module where to store the netcdf files generated by the module until the file is streamed back to the caller. The default value for this parameter is the /tmp directory. You should change this to a location where there is plenty of disk space/quota that is owned by the user set to run the BES.
</p>
<pre>FONc.Tempdir=/tmp
</pre>
<p>Other BES keys that can be used to control the handler's behavior:
</p>
<pre>FONc.UseCompression=true
</pre>
<p>Use compression when making netCDF4 files; true by default
</p>
<pre>FONc.ChunkSize=4096
</pre>
<p>The default chunk size when making netCDF4 files, in KBytes (4k by default)
</p>
<pre>FONc.ClassicModel=true
</pre>
<p>When making a netCDF4 file, use only the 'classic' netCDF data model; true by default.
</p><p>The next time the BES is started it will load this module. And, once installed, the OLFS will know that it can use this module to transform your data. Next to a dataset you will see the list of data products provided for that dataset. This will include a link for File Out Netcdf.
</p><p>If not using the OLFS to serve your data, for example if using the bescmdln, you would run a command file that would look something like this:
</p>
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;request reqID=&quot;some_unique_value&quot; &gt;
    &lt;setContext name=&quot;dap_format&quot;&gt;dap2&lt;/setContext&gt;
    &lt;setContainer name=&quot;c&quot; space=&quot;catalog&quot;&gt;data/nc/fnoc1.nc&lt;/setContainer&gt;
    &lt;define name=&quot;d&quot;&gt;
	&lt;container name=&quot;c&quot; /&gt;
    &lt;/define&gt;
    &lt;get type=&quot;dods&quot; definition=&quot;d&quot; returnAs=&quot;netcdf&quot;/&gt;
&lt;/request&gt;
</pre>




</div>
				<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
</body></html>