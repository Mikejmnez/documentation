
<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>UserGuideServer - OPeNDAP Documentation</title>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-UserGuideServer skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">UserGuideServer</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From OPeNDAP Documentation</div>
		<div id="contentSub"></div>
		

		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><a href="../index.php/UserGuide" title="UserGuide">Back to User Guide Contents</a>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#The_OPeNDAP_Server"><span class="tocnumber">1</span> <span class="toctext">The OPeNDAP Server</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Hyrax"><span class="tocnumber">1.1</span> <span class="toctext">Hyrax</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#How_Hyrax_Works"><span class="tocnumber">1.1.1</span> <span class="toctext">How Hyrax Works</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#Installing_Hyrax"><span class="tocnumber">1.1.2</span> <span class="toctext">Installing Hyrax</span></a>
<ul>
<li class="toclevel-4 tocsection-5"><a href="#Installing_BES"><span class="tocnumber">1.1.2.1</span> <span class="toctext">Installing BES</span></a>
<ul>
<li class="toclevel-5 tocsection-6"><a href="#The_FreeForm_Module"><span class="tocnumber">1.1.2.1.1</span> <span class="toctext">The FreeForm Module</span></a></li>
</ul>
</li>
<li class="toclevel-4 tocsection-7"><a href="#Installing_OLFS"><span class="tocnumber">1.1.2.2</span> <span class="toctext">Installing OLFS</span></a></li>
<li class="toclevel-4 tocsection-8"><a href="#THREDDS"><span class="tocnumber">1.1.2.3</span> <span class="toctext">THREDDS</span></a></li>
<li class="toclevel-4 tocsection-9"><a href="#Multiple_BES_Configuration"><span class="tocnumber">1.1.2.4</span> <span class="toctext">Multiple BES Configuration</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="The_OPeNDAP_Server"><span class="mw-headline-number">1</span> The OPeNDAP Server</span></h1>
<p>Any server that responds to the messages described in 
<a href="../index.php/UserGuideOPeNDAPMessages" title="UserGuideOPeNDAPMessages">OPeNDAP Messages</a> using the 
<a href="../index.php/UserGuideDataModel" title="UserGuideDataModel">OPeNDAP Data Model</a> is an OPeNDAP server.  The
messages and the data model are published standards, available to
anyone to use.
</p><p>The OPeNDAP group, in addition to publishing and maintaining the
standards described here, maintains a server that complies with the
standard.  This is <a href="../index.php/Hyrax" title="Hyrax">Hyrax</a>.
</p>
<h2><span class="mw-headline" id="Hyrax"><span class="mw-headline-number">1.1</span> Hyrax</span></h2>
<p>The OPeNDAP group produces and supports <a href="../index.php/Hyrax" title="Hyrax">Hyrax</a>, a modular data server
that can be used in a variety of ways to serve a wide variety of data
with OPeNDAP.
</p><p>Hyrax is flexible enough that it can serve data that currently exist
in a wide variety of data storage formats, ranging from HDF4 data
files to netCDF data to data in some arbitrary non-standard format
using the FreeForm module.
</p><p>Hyrax is modular, too, which means it can be outfitted to serve the
particular needs of your data without weighing down its performance
with features you don't need.
</p>
<h3><span class="mw-headline" id="How_Hyrax_Works"><span class="mw-headline-number">1.1.1</span> How Hyrax Works</span></h3>
<p>The <a href="../index.php/Hyrax" title="Hyrax">Hyrax</a> server is actually a combination of two distinct
servers, running on the same machine, or on two machines connected
with a very fast link.  One server serves as the 
user-facing "front end" to the system, while the other provides the
"engine room", optimized to turn requests around quickly.
</p><p>The front end server is called the <b>O</b>PeNDAP <b>L</b>ightweight
<b>F</b>ront end <b>S</b>erver (OLFS).  It receives requests for data
and services in multiple formats and forms, and is meant to be as
"user friendly" as a server can be.  It also handles such chores as
authentication and authorization-checking, and responding to catalog
and bot requests.  It can also construct complex data requests from
multiple requests from its parner server.
</p>
<div class="floatleft"><a href="../index.php/File:HyraxArchitecture.jpg" class="image"><img alt="HyraxArchitecture.jpg" src="../images/thumb/c/c5/HyraxArchitecture.jpg/300px-HyraxArchitecture.jpg" width="300" height="225" srcset="/images/thumb/c/c5/HyraxArchitecture.jpg/450px-HyraxArchitecture.jpg 1.5x, /images/thumb/c/c5/HyraxArchitecture.jpg/600px-HyraxArchitecture.jpg 2x" /></a></div>
<p>This other server, called the <b>B</b>ack <b>E</b>nd <b>S</b>erver (BES),
does only one thing&#8212;provide data&#8212;and is designed to do it
fast.  It handles the compute-intensive parts of processing an OPeNDAP
client request for data.  This results in higher performance for small
requests while not penalizing the larger requests.
</p><p>Separating the two roles allows several paths to optimizing a server,
while still resulting in higher performance for small requests.  An OLFS
controlling multiple BES processes on a machine can process multiple
requests quicker because while one BES is occupied with retrieving its
data, another can be processing its data.  An OLFS controlling BES
processes on multiple machines can implement a rudimentary
load-balancing scheme to protect servers from overload.  What's more,
compute-intensive clients can optimize their processes further by
sending requests directly to the BES.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Installing_Hyrax"><span class="mw-headline-number">1.1.2</span> Installing Hyrax</span></h3>
<p>The two parts of <a href="../index.php/Hyrax" title="Hyrax">Hyrax</a> are both installed by the same script, but
they are two different animals, which may require different kinds of
attention from an administrator.  Testing OLFS requires a working BES,
so it's typical to start the post-unpacking process with the BES.
</p>
<h4><span class="mw-headline" id="Installing_BES"><span class="mw-headline-number">1.1.2.1</span> Installing BES</span></h4>
<p>The BES is a standalone server.  Its installation involves parking its
code somewhere to be run as a daemon and configuring your system to
execute it.
</p><p>After that, though, there are several configuration options you'll
need to address by installing software on your machine, and by editing
the <a href="../index.php/Hyrax_-_BES_Configuration" title="Hyrax - BES Configuration">Hyrax configuration file</a>, called bes.xml.  Details of these
options are in the <a href="../index.php/Hyrax" title="Hyrax">Hyrax</a> documentation, but these are the
decisions you'll have to make:
</p>
<dl>
<dt>What kind of data
</dt>
<dd>Hyrax is equipped to serve data stored in any of several different file formats, HDF, netCDF and others.  Each different format requires its own handler, and your machine must have shared libraries containing these handlers installed.  For example, in order to serve netCDF data, the netCDF handler library must be available to Hyrax, and identified in its <a href="../index.php/Hyrax_-_BES_Configuration" title="Hyrax - BES Configuration">configuration file</a>.  The handlers are shared libraries and are installed separately.  Find instructions under <a href="../index.php/Hyrax_-_BES_Configuration#Loading_Handlers" title="Hyrax - BES Configuration">Loading Handlers</a>.
</dd>
</dl>
<dl>
<dt>Where the data lives
</dt>
<dd>A server equipped to serve data must be able to find that data.  Lines in the bes.xml file identify the disk location of your data files.  Hyrax can provide a limited amount of browsing capacity to users, through its <a href="../index.php/UserGuideOPeNDAPMessages#WWW_Interface_Service" title="UserGuideOPeNDAPMessages">WWW interface</a>.  Access is specified by identifying directories where data resides.  See <a href="../index.php/Hyrax_-_BES_Configuration" title="Hyrax - BES Configuration">Pointing_to_data</a>.
</dd>
</dl>
<dl>
<dt>What kinds of services
</dt>
<dd>Along with simply supplying data, Hyrax can supply several different services, including <a href="../index.php/UserGuideOPeNDAPMessages#ASCII_Service" title="UserGuideOPeNDAPMessages">serving the data as ASCII values</a>, and the form-driven <a href="../index.php/UserGuideOPeNDAPMessages#WWW_Interface_Service" title="UserGuideOPeNDAPMessages">WWW interface</a>.  The bes.xml file is used to specify the list of services.  The drivers for these services are installed as part of the default installation of Hyrax, but they need to be chosen and identified in bes.xml.  See instructions at <a href="../index.php/Hyrax_-_BES_Configuration#Loading_Handlers" title="Hyrax - BES Configuration">Loading Handlers</a>.
</dd>
</dl>
<p>Once these three tasks are accomplished, and once data is moved into
the appropriate directories, your server should be ready to provide
data to all comers, but most specifically to its OLFS.
</p>
<h5><span class="mw-headline" id="The_FreeForm_Module"><span class="mw-headline-number">1.1.2.1.1</span> The FreeForm Module</span></h5>
<p>One of the shared libraries to use for serving data is called the FreeForm module.  This module allows you to serve data in fairly arbitrary formats by writing a format description file to sit alongside your data file.  If you have data that isn't in one of the supported file formats, consider writing format descriptions using FreeForm, and serving the data that way.
</p><p>See the <a href="../index.php/FreeForm" title="FreeForm">FreeForm documentation</a> for more information.
</p>
<h4><span class="mw-headline" id="Installing_OLFS"><span class="mw-headline-number">1.1.2.2</span> Installing OLFS</span></h4>
<p>The OLFS is a Java servlet, so its installation involves
installing the Tomcat servlet infrastructure, and then configuring
that with the OLFS.  There are four configuration files, but unless
yours is an unusual case, you'll likely only have to look at two of
them.  See <a href="../index.php/Hyrax_-_OLFS_Configuration" title="Hyrax - OLFS Configuration">Hyrax_-_OLFS_Configuration</a> for more information.
</p><p>Use the
<a href="../index.php/Hyrax_-_OLFS_Configuration#olfs.xml_Configuration_File" title="Hyrax - OLFS Configuration">olfs.xml</a>
file to specify these important features of the OLFS operation:
</p>
<dl>
<dt>Address of BES
</dt>
<dd>The OLFS is the front door to data from the BES.  Use the olfs.xml file to identify where to find this server.  See the instructions for the <a href="../index.php/Hyrax_-_OLFS_Configuration#BESManager" title="Hyrax - OLFS Configuration">BESManager</a>.
</dd>
</dl>
<dl>
<dt>Dispatch handlers
</dt>
<dd>The OLFS "offers" the incoming URL to a series of "dispatch handlers" until one accepts it and executes.  This allows the OLFS to offer directory and catalog services, as well as data services and more.  Use the olfs.xml file to nominate the dispatch handlers (they come with the OLFS, and do not need to be separately installed).  See <a href="../index.php/Hyrax_-_OLFS_Configuration#HTTP_GET_Handlers" title="Hyrax - OLFS Configuration">handler instructions</a> for more.
</dd>
</dl>
<dl>
<dt>Catalog requests
</dt>
<dd>The OLFS can handle <a href="../index.php/Hyrax_-_THREDDS_Configuration" title="Hyrax - THREDDS Configuration">THREDDS</a> catalog requests, as well as directory requests, an older part of the DAP standard that also involves data about a collection of data files.  The THREDDS information can be static (provided from a file) or dynamic (generated by a review of the available data).
</dd>
</dl>
<dl>
<dt>File access
</dt>
<dd>You may have individual files you want served intact via this server.  These might include documentation of the data files, or of the server.  See <a href="../index.php/Hyrax_-_OLFS_Configuration#File_Dispatch_Handler" title="Hyrax - OLFS Configuration">File Dispatch Handler</a> instructions.
</dd>
</dl>
<p>There are some other features, too, like a bot blocker and a version
message, as well as the experimental SOAP message handler.  These are
also configured with
<a href="../index.php/Hyrax_-_OLFS_Configuration#olfs.xml_Configuration_File" title="Hyrax - OLFS Configuration">olfs.xml</a>,
and you'll find more information about them at the link.
</p><p>The other configuration file you might need to edit is 
<a rel="nofollow" class="external text" href="http://www.unidata.ucar.edu/projects/THREDDS/tech/TDS.html">catalog.xml</a>,
briefly reviewed under <a href="#THREDDS">THREDDS</a>, below.
</p>
<h4><span class="mw-headline" id="THREDDS"><span class="mw-headline-number">1.1.2.3</span> THREDDS</span></h4>
<p><a rel="nofollow" class="external text" href="http://www.unidata.ucar.edu/projects/THREDDS/tech/TDS.html">THREDDS</a>
is a catalog standard for scientific data promoted by scientists at
<a rel="nofollow" class="external text" href="http://www.unidata.ucar.edu">UCAR</a>.  It allows 
</p><p><br />
The default file will allow dynamic catalogs to be created and should
allow your server to respond to THREDDS requests properly.  It's
possible you may want to serve a static THREDDS catalog, too.  This
can be done by editing the catalog.xml file, and you'll find
links to instructions for that at <a href="../index.php/Hyrax_-_THREDDS_Configuration" title="Hyrax - THREDDS Configuration">Hyrax - THREDDS Configuration</a>.
</p><p><br />
</p>
<h4><span class="mw-headline" id="Multiple_BES_Configuration"><span class="mw-headline-number">1.1.2.4</span> Multiple BES Configuration</span></h4>
<p>You can configure a single OLFS to work with multiple BES instances.
This offers an opportunity to do rudimentary load balancing, or to
isolate data on one server or another.  See the 
<a href="../index.php/Hyrax_-_Configuring_The_OLFS_To_Work_With_Multiple_BES%27s" title="Hyrax - Configuring The OLFS To Work With Multiple BES's">Hyrax configuration chapter</a>
for more information on the subject.
</p>



</div>
				<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
</body></html>