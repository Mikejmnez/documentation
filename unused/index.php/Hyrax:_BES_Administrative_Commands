
<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Hyrax: BES Administrative Commands - OPeNDAP Documentation</title>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Hyrax_BES_Administrative_Commands skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Hyrax: BES Administrative Commands</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From OPeNDAP Documentation</div>
		<div id="contentSub"></div>
		

		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#BES_Administration_Commands"><span class="tocnumber">1</span> <span class="toctext">BES Administration Commands</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Start"><span class="tocnumber">1.1</span> <span class="toctext">Start</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Request_Example"><span class="tocnumber">1.1.1</span> <span class="toctext">Request Example</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#Response_Examples"><span class="tocnumber">1.1.2</span> <span class="toctext">Response Examples</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#StopNow"><span class="tocnumber">1.2</span> <span class="toctext">StopNow</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Request_Example_2"><span class="tocnumber">1.2.1</span> <span class="toctext">Request Example</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Response_Examples_2"><span class="tocnumber">1.2.2</span> <span class="toctext">Response Examples</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Exit"><span class="tocnumber">1.3</span> <span class="toctext">Exit</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Request_Example_3"><span class="tocnumber">1.3.1</span> <span class="toctext">Request Example</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Response_Example"><span class="tocnumber">1.3.2</span> <span class="toctext">Response Example</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#GetConfig"><span class="tocnumber">1.4</span> <span class="toctext">GetConfig</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#Request_Example_4"><span class="tocnumber">1.4.1</span> <span class="toctext">Request Example</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Response_Example_2"><span class="tocnumber">1.4.2</span> <span class="toctext">Response Example</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#SetConfig"><span class="tocnumber">1.5</span> <span class="toctext">SetConfig</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Request_Example_5"><span class="tocnumber">1.5.1</span> <span class="toctext">Request Example</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Response_Example_3"><span class="tocnumber">1.5.2</span> <span class="toctext">Response Example</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#TailLog"><span class="tocnumber">1.6</span> <span class="toctext">TailLog</span></a>
<ul>
<li class="toclevel-3 tocsection-18"><a href="#Request_Example_6"><span class="tocnumber">1.6.1</span> <span class="toctext">Request Example</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Response_Example_4"><span class="tocnumber">1.6.2</span> <span class="toctext">Response Example</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-20"><a href="#GetLogContents"><span class="tocnumber">1.7</span> <span class="toctext">GetLogContents</span></a>
<ul>
<li class="toclevel-3 tocsection-21"><a href="#Request_Example_7"><span class="tocnumber">1.7.1</span> <span class="toctext">Request Example</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Response_Examples_3"><span class="tocnumber">1.7.2</span> <span class="toctext">Response Examples</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-23"><a href="#SetLogContents"><span class="tocnumber">1.8</span> <span class="toctext">SetLogContents</span></a>
<ul>
<li class="toclevel-3 tocsection-24"><a href="#Request_Example_8"><span class="tocnumber">1.8.1</span> <span class="toctext">Request Example</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#Response_Examples_4"><span class="tocnumber">1.8.2</span> <span class="toctext">Response Examples</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="BES_Administration_Commands"><span class="mw-headline-number">1</span> BES Administration Commands</span></h2>
<p>The general form for all of the HAI commands is as follows:
Namespace: <a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>
</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BesAdminCmd xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     ...
 &lt;/hai:BesAdminCmd&gt;
</pre>
<h3><span class="mw-headline" id="Start"><span class="mw-headline-number">1.1</span> Start</span></h3>
<p>Example: 
</p>
<pre>&lt;hai:Start /&gt;
</pre>
<p>Starts the master beslistener process. If a beslistner is already running nothing will be done.
</p><p><br />
</p>
<h5><span class="mw-headline" id="Request_Example"><span class="mw-headline-number">1.1.1</span> Request Example</span></h5>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BesAdminCmd xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     &lt;hai:Start /&gt;
 &lt;/hai:BesAdminCmd&gt;
</pre>
<h5><span class="mw-headline" id="Response_Examples"><span class="mw-headline-number">1.1.2</span> Response Examples</span></h5>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BesAdminCmd xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     &lt;hai:OK/&gt;
 &lt;/hai:BesAdminCmd&gt;
</pre>
<p>Here are the two kinds of errors possible:
</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:ParseError xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     <i>message text</i>
 &lt;/hai:ParseError&gt;
</pre>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BESError xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     <i>message text</i>
 &lt;/hai:BESError&gt;
</pre>
<h3><span class="mw-headline" id="StopNow"><span class="mw-headline-number">1.2</span> StopNow</span></h3>
<p>Example: 
</p>
<pre>&lt;hai:StopNow/&gt;
</pre>
<p>Stops all beslistener processes; does not wait for the current transmissions to complete
</p><p><br />
</p>
<h5><span class="mw-headline" id="Request_Example_2"><span class="mw-headline-number">1.2.1</span> Request Example</span></h5>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BesAdminCmd xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     &lt;hai:StopNow/&gt;
 &lt;/hai:BesAdminCmd&gt;
</pre>
<h5><span class="mw-headline" id="Response_Examples_2"><span class="mw-headline-number">1.2.2</span> Response Examples</span></h5>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BesAdminCmd xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     &lt;hai:OK/&gt;
 &lt;/hai:BesAdminCmd&gt;
</pre>
<p>Here are the two kinds of errors possible:
</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:ParseError xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     <i>message text</i>
 &lt;/hai:ParseError&gt;
</pre>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BESError xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     <i>message text</i>
 &lt;/hai:BESError&gt;
</pre>
<h3><span class="mw-headline" id="Exit"><span class="mw-headline-number">1.3</span> Exit</span></h3>
<p>Element form:
</p>
<pre>&lt;hai:Exit /&gt;
</pre>
<p>Shutdown the BES. This forces the daemon to exit, so the command interface the HAI uses to start and stop listeners is <i>gone</i>. A user will have to restart the daemon manually. 
</p>
<h5><span class="mw-headline" id="Request_Example_3"><span class="mw-headline-number">1.3.1</span> Request Example</span></h5>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BesAdminCmd xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     &lt;hai:Exit /&gt;
 &lt;/hai:BesAdminCmd&gt;
</pre>
<h5><span class="mw-headline" id="Response_Example"><span class="mw-headline-number">1.3.2</span> Response Example</span></h5>
<p>There's no response.
</p>
<h3><span class="mw-headline" id="GetConfig"><span class="mw-headline-number">1.4</span> GetConfig</span></h3>
<p>Element form:
</p>
<pre>&lt;hai:GetConfig /&gt;
</pre>
<p>Retrieves the BES configuration file. 
</p>
<h5><span class="mw-headline" id="Request_Example_4"><span class="mw-headline-number">1.4.1</span> Request Example</span></h5>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BesAdminCmd xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     &lt;hai:GetConfig /&gt;
 &lt;/hai:BesAdminCmd&gt;
</pre>
<h5><span class="mw-headline" id="Response_Example_2"><span class="mw-headline-number">1.4.2</span> Response Example</span></h5>
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
&lt;hai:BesAdminCmd xmlns:hai=&quot;http://xml.opendap.org/ns/bes/admin/1.0#&quot;&gt;
    &lt;hai:GetConfig module=&quot;bes.conf&quot;&gt;
    ...
    &lt;/hai:GetConfig&gt;

    &lt;hai:GetConfig module=&quot;h4.conf&quot;&gt;
    ...
    &lt;/hai:GetConfig&gt;

    ...

&lt;/hai:BesAdminCmd&gt;
</pre>
<h3><span class="mw-headline" id="SetConfig"><span class="mw-headline-number">1.5</span> SetConfig</span></h3>
<p>Element form:
</p>
<pre>&lt;hai:SetConfig module="<i>module-name</i>"&gt;
     <i>...Module Name Configuration Content...</i>
&lt;/hai:SetConfig&gt;
</pre>
<p>Note that <i>module-name</i> is actually any of the configuration files (<i>bes.conf</i>, <i>h4.conf</i>) and that while we use some conventions, a bes really has a collection of files that are all sourced to form the current configuration. So we're showing files and it's assumed that in most cases those roughly correspond to the main configuration file for the bes and smaller files specific to individual modules.
</p>
<h5><span class="mw-headline" id="Request_Example_5"><span class="mw-headline-number">1.5.1</span> Request Example</span></h5>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BesAdminCmd xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     &lt;hai:SetConfig module="ncml_module"&gt;
     <i>...NcML Module Configuration Content...</i>
     &lt;/hai:SetConfig&gt;
 &lt;/hai:BesAdminCmd&gt;
</pre>
<h5><span class="mw-headline" id="Response_Example_3"><span class="mw-headline-number">1.5.2</span> Response Example</span></h5>
<p>Returns a status indicating what happened (Was the configuration accepted, was it valid, did the bes restart, etc)
</p>
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
&lt;hai:BesAdminCmd xmlns:hai=&quot;http://xml.opendap.org/ns/bes/admin/1.0#&quot;&gt;
    &lt;hai:OK&gt;Please restart the server for these changes to take affect.&lt;/hai:OK&gt;
&lt;/hai:BesAdminCmd&gt;
</pre>
<p>Here are the two kinds of errors possible:
</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:ParseError xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     <i>message text</i>
 &lt;/hai:ParseError&gt;
</pre>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BESError xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     <i>message text</i>
 &lt;/hai:BESError&gt;
</pre>
<h3><span class="mw-headline" id="TailLog"><span class="mw-headline-number">1.6</span> TailLog</span></h3>
<p>Use this to get a 'tail' of the BES log.
</p><p>Element form:
</p>
<pre>&lt;hai:TailLog lines="<i>integer</i>"/&gt;
</pre>
<p>Note that the value zero (0) has the special meaning to get all of the lines in the log.
</p>
<h5><span class="mw-headline" id="Request_Example_6"><span class="mw-headline-number">1.6.1</span> Request Example</span></h5>
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 &lt;hai:BesAdminCmd xmlns:hai=&quot;http://xml.opendap.org/ns/bes/admin/1.0#&quot;&gt;
     &lt;hai:TailLog lines=&quot;200&quot;/&gt;
 &lt;/hai:BesAdminCmd&gt;
</pre>
<h5><span class="mw-headline" id="Response_Example_4"><span class="mw-headline-number">1.6.2</span> Response Example</span></h5>
<p>Element form:
</p>
<pre>&lt;hai:BesLog/&gt;
</pre>
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
&lt;hai:BesAdminCmd xmlns:hai=&quot;http://xml.opendap.org/ns/bes/admin/1.0#&quot;&gt;
    &lt;hai:BesLog&gt;
[MDT Thu May 26 15:10:49 2011 id: 58293] 58293 from ip 127.0.0.1, port 62858 [set context dap_explicit_containers to no;] received
[MDT Thu May 26 15:10:49 2011 id: 58293] 58293 from ip 127.0.0.1, port 62858 [set context errors to dap2;] received
[MDT Thu May 26 15:10:49 2011 id: 58293] 58293 from ip 127.0.0.1, port 62858 [set container in catalog values catalogContainer,/data/nc/dapbench_test.nc;] received

...
[MDT Fri May 27 12:10:00 2011 id: 86266] 86266 from ip 127.0.0.1, port 65245 [get html_form for d1 return as dap2 using http://localhost:8080/opendap/hyrax/data/nc/bears.nc] received
&lt;/hai:BesLog&gt;
&lt;/hai:BesAdminCmd&gt;
</pre>
<h3><span class="mw-headline" id="GetLogContents"><span class="mw-headline-number">1.7</span> GetLogContents</span></h3>
<p>Element form:
</p>
<pre>&lt;hai:GetLogContents /&gt;
</pre>
<p>Retrieves information about all of the existing (available) log contexts for the BES.
</p>
<h5><span class="mw-headline" id="Request_Example_7"><span class="mw-headline-number">1.7.1</span> Request Example</span></h5>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BesAdminCmd xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     &lt;hai:GetLogContents /&gt;
 &lt;/hai:BesAdminCmd&gt;
</pre>
<h5><span class="mw-headline" id="Response_Examples_3"><span class="mw-headline-number">1.7.2</span> Response Examples</span></h5>
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
&lt;hai:BesAdminCmd xmlns:hai=&quot;http://xml.opendap.org/ns/bes/admin/1.0#&quot;&gt;
    &lt;hai:LogContext name=&quot;ascii&quot; state=&quot;on&quot;/&gt;
    &lt;hai:LogContext name=&quot;besdamone&quot; state=&quot;on&quot;/&gt;
    &lt;hai:LogContext name=&quot;nc&quot; state=&quot;off&quot;/&gt;
    ...
&lt;/hai:BesAdminCmd&gt;
</pre>
<p>If there are no contexts, the response will be empty:
</p>
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
&lt;hai:BesAdminCmd xmlns:hai=&quot;http://xml.opendap.org/ns/bes/admin/1.0#&quot;&gt;
&lt;/hai:BesAdminCmd&gt;
</pre>
<h3><span class="mw-headline" id="SetLogContents"><span class="mw-headline-number">1.8</span> SetLogContents</span></h3>
<p>Element form:
</p>
<pre>&lt;hai:SetLogContents name="..." state="..." /&gt;
</pre>
<p>Set the loggin context for <i>name</i> to <i>state</i>.
</p>
<h5><span class="mw-headline" id="Request_Example_8"><span class="mw-headline-number">1.8.1</span> Request Example</span></h5>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BesAdminCmd xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     &lt;hai:SetLogContents name="ascii" state="on" /&gt;
     &lt;hai:SetLogContents name="besdaemon" state="off" /&gt;
 &lt;/hai:BesAdminCmd&gt;
</pre>
<h5><span class="mw-headline" id="Response_Examples_4"><span class="mw-headline-number">1.8.2</span> Response Examples</span></h5>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BesAdminCmd xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     &lt;hai:OK/&gt;
 &lt;/hai:BesAdminCmd&gt;
</pre>
<p>Here are the two kinds of errors possible:
</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:ParseError xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     <i>message text</i>
 &lt;/hai:ParseError&gt;
</pre>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;hai:BESError xmlns:hai="<a rel="nofollow" class="external free" href="http://xml.opendap.org/ns/bes/admin/1.0#">http://xml.opendap.org/ns/bes/admin/1.0#</a>"&gt;
     <i>message text</i>
 &lt;/hai:BESError&gt;
</pre>



</div>
				<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
</body></html>