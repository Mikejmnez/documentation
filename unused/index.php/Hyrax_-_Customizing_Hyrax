
<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Hyrax - Customizing Hyrax - OPeNDAP Documentation</title>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Hyrax_-_Customizing_Hyrax skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Hyrax - Customizing Hyrax</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From OPeNDAP Documentation</div>
		<div id="contentSub"></div>
		

		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>There are several ways in which Hyrax can be customized:
</p>
<ul>
<li> Web interface look and feel can be changed, as can the pages served.
</li>
<li> Custom DispatchHandlers for the OLFS
</li>
<li> Custom RequestHandlers for the BES.
</li>
</ul>
<p><br />
<br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Web_page_customization"><span class="tocnumber">1</span> <span class="toctext">Web page customization</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Where_to_make_the_changes"><span class="tocnumber">1.1</span> <span class="toctext">Where to make the changes</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#What_to_change"><span class="tocnumber">1.2</span> <span class="toctext">What to change</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#HTML_Files"><span class="tocnumber">1.2.1</span> <span class="toctext">HTML Files</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#CSS_Files"><span class="tocnumber">1.2.2</span> <span class="toctext">CSS Files</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Image_Files"><span class="tocnumber">1.2.3</span> <span class="toctext">Image Files</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#XSL_Transform_Files"><span class="tocnumber">1.2.4</span> <span class="toctext">XSL Transform Files</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Software_Customization"><span class="tocnumber">2</span> <span class="toctext">Software Customization</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#OLFS_Customization"><span class="tocnumber">2.1</span> <span class="toctext">OLFS Customization</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#BES_Customization"><span class="tocnumber">2.2</span> <span class="toctext">BES Customization</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Web_page_customization"><span class="mw-headline-number">1</span> Web page customization</span></h1>
<p>Hyrax's public "face" is the web pages that are produced by servlets running in the Tomcat servlet engine.  Almost all of these pages can be completely customized by the site administrator by editing a combination of HTML, XSLT, and CSS files. 
</p>
<h2><span class="mw-headline" id="Where_to_make_the_changes"><span class="mw-headline-number">1.1</span> Where to make the changes</span></h2>
<p>All of the default versions of the HTML, XSLT, and CSS files come bundled with Hyrax in the <i>$CATALINA_HOME/webapps/opendap/docs</i> directory. You can make changes there, but installing new versions of the OLFS software will overwrite your modifications.
</p><p>However, if the <i>docs</i> directory is copied (preserving its structure) to <i>$CATALINA_HOME/content/opendap/</i> (creating the directory <i>$CATALINA_HOME/content/opendap/docs</i>), then Hyrax will serve the files from the new location.
</p>
<dl>
<dt>Warning</dt>
<dd> <i>Do NOT remove files from this new directory (Or the old one for that matter). Each file, in its location, is required by Hyrax. You can make changes to the files but you should not rename or remove them.</i>
</dd>
</dl>
<p>Nothing inside the <i>$CATALINA_HOME/content</i> directory is (automatically) changed when installing new versions of Hyrax.
</p><p><b>The rest of these instructions are written with the assumption that a copy of the <i>docs</i> directory has been made as described above.</b>
</p>
<h2><span class="mw-headline" id="What_to_change"><span class="mw-headline-number">1.2</span> What to change</span></h2>
<h3><span class="mw-headline" id="HTML_Files"><span class="mw-headline-number">1.2.1</span> HTML Files</span></h3>
<p>The HTML files provide  the static content of a Hyrax server. 
</p>
<table>
<tr>
<td><u>File</u>
</td>
<td>&#160;&#160;&#160;&#160;&#160;&#160;
</td>
<td><u>Location</u>
</td>
<td>&#160;&#160;&#160;&#160;&#160;&#160;
</td>
<td><u>Description</u>
</td></tr>
<tr>
<td> <b>index.html</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs</i>
</td>
<td>
</td>
<td> The documentation web page for the top level of Hyrax. As shipped it contains a description of Hyrax and links to documentation and funders. The contents.html pages (aka the OPeNDAP directories) links to this document. <br /><br />
</td></tr>
<tr>
<td> <b>error400.html</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs</i>
</td>
<td>
</td>
<td> Contains the default error page that Hyrax will return when the client request generates a <b>Bad Request</b> error (Associated with an HTML status of 400) <br /><br />
</td></tr>
<tr>
<td> <b>error403.html</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs</i>
</td>
<td>
</td>
<td> Contains the default error page that Hyrax will return when the client request generates a <b>Forbidden</b> error. (Associated with an HTML status of 403) <br /><br />
</td></tr>
<tr>
<td> <b>error404.html</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs</i>
</td>
<td>
</td>
<td> Contains the default error page that Hyrax will return when the client request generates a <b>Not Found</b> error. (Associated with an HTML status of 404) <br /><br />
</td></tr>
<tr>
<td> <b>error500.html</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs</i>
</td>
<td>
</td>
<td> Contains the default error page that Hyrax will return when the client request generates an <b>Internal Server Error</b>. (Associated with an HTML status of 500) <br /><br />
</td></tr>
<tr>
<td> <b>error501.html</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs</i>
</td>
<td>
</td>
<td> Contains the default error page that Hyrax will return when the client request generates an <b>Not Implemented</b>. (Associated with an HTML status of 501) <br /><br />
</td></tr>
<tr>
<td> <b>error502.html</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs</i>
</td>
<td>
</td>
<td> Contains the default error page that Hyrax will return when the client request generates an <b>Bad Gateway</b>. (Associated with an HTML status of 502) <br /><br />
</td></tr>
</table>
<p><br />
<br />
</p>
<h3><span class="mw-headline" id="CSS_Files"><span class="mw-headline-number">1.2.2</span> CSS Files</span></h3>
<table>
<tr>
<td><u>File</u>
</td>
<td>&#160;&#160;&#160;&#160;&#160;&#160;
</td>
<td><u>Location</u>
</td>
<td>&#160;&#160;&#160;&#160;&#160;&#160;
</td>
<td><u>Description</u>
</td></tr>
<tr>
<td> <b>contents.css</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/css</i>
</td>
<td>
</td>
<td> The contents.css style sheet provides the default colors and fonts used in the Hyrax site. It is referenced by all of the HTML and XSL files to coordinate the visual aspects of the site.<br /><br />
</td></tr>
<tr>
<td> <b>thredds.css</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/css</i>
</td>
<td>
</td>
<td> The thredds.css style sheet provides the default colors and fonts used by the THREDDS component of Hyrax. <br /><br />
</td></tr>
</table>
<p><br />
<br />
</p>
<h3><span class="mw-headline" id="Image_Files"><span class="mw-headline-number">1.2.3</span> Image Files</span></h3>
<p>There are a number of image files shipped with Hyrax. Simply replacing key image files will allow you to customize the icons and logos associated with the Hyrax server.
</p>
<table>
<tr>
<td><u>File</u>
</td>
<td>&#160;&#160;&#160;&#160;&#160;&#160;
</td>
<td><u>Location</u>
</td>
<td>&#160;&#160;&#160;&#160;&#160;&#160;
</td>
<td><u>Description</u>
</td></tr>
<tr>
<td> <b>logo.gif</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/images</i>
</td>
<td>
</td>
<td> Main Logo for the directory view (produced by contents.css and contents.xsl)
</td></tr>
<tr>
<td> <b>favicon.ico</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/images</i>
</td>
<td>
</td>
<td> The cute little icon preceding the URL in the address bar of your browser. To be used this file needs to be installed into Tomcat <a rel="nofollow" class="external text" href="../index.php/Hyrax_-_Installation_Instructions#Miscellaneous">as described here</a>
</td></tr>
<tr>
<td> <b>BadDapRequest.gif, BadGateway.png,<br /> favicon.ico, folder.png,<br />  forbidden.png, largeEarth.jpg,<br />  logo.gif, nasa-logo.jpg,<br />  noaa-logo.jpg, nsf-logo.png,<br />  smallEarth.jpg, sml-folder.png,<br />  superman.jpg</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/images</i>
</td>
<td>
</td>
<td> These files are referenced by the default collection of web content files (described above) that ship with Hyrax.
</td></tr></table>
<p><br />
<br />
</p>
<h3><span class="mw-headline" id="XSL_Transform_Files"><span class="mw-headline-number">1.2.4</span> XSL Transform Files</span></h3>
<p>These files are used to transform XML documents used by Hyrax. Some transforms operate on source XML from internal documents such as BES responses. Other transforms change things like THREDDS catalogs into HTML for browsers. 
</p><p><i>All of these XSLT files are software, and should be treated as such. They are intimately tied to the functions of Hyrax. The likelihood that you can change these files and not break Hyrax is fairly low.</i>
</p><p><br />
<font size="+1" style="bold">Current Operational XSLT</font>
</p>
<table>
<tr>
<td><u>File</u>
</td>
<td>&#160;&#160;&#160;&#160;&#160;&#160;
</td>
<td><u>Location</u>
</td>
<td>&#160;&#160;&#160;&#160;&#160;&#160;
</td>
<td><u>Description</u>
</td></tr>
<tr>
<td> <b>catalog.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> The catalog.xsl file contains the XSLT transformation that is used to transform BES showCatalog responses into THREDDS catalogs.
</td></tr>
<tr>
<td> <b>contents.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> The contents.xsl file contains the XSLT transformation that is used to build the <a rel="nofollow" class="external text" href="../index.php/ServerDispatchOperations#OPeNDAP_Directory_Response">OPeNDAP Directory Response</a> (<i>see <a rel="nofollow" class="external text" href="../images/6/6e/DirectoryView.png">img</a></i>) <br /><br />
</td></tr>
<tr>
<td> <b>dap_3.2_ddxToRdfTriples.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> <i>Experimental</i> - This XSLT is used to produce an RDF representation of a DAP 3.2 DDX.
</td></tr>
<tr>
<td> <b>dataset.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> This transform is used to in conjunction with the opendap.threddsHandler code to produce HTML pages of THREDDS catalog dataset element details.
</td></tr>
<tr>
<td> <b>error400.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> The error400.xsl contains the XSLT transformation that is used to build the web page that is returned when the server generates a Bad Request (400) HTTP status code.  If for some reason this page cannot be generated then the HTML version (<i>$CATALINA_HOME/content/opendap/docs/error400.html</i>) will be sent.<br /><br />
</td></tr>

<tr>
<td> <b>error500.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> The error400.xsl contains the XSLT transformation that is used to build the web page that is returned when the server generates a Internal Server Error (500) HTTP status code.  If for some reason this page cannot be generated then the HTML version (<i>$CATALINA_HOME/content/opendap/docs/error500.html</i>) will be sent.<br /><br />
</td></tr>
<tr>
<td> <b>thredds.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> This transform is used to in conjunction with the opendap.threddsHandler code to produce HTML pages of THREDDS catalog details.
</td></tr>
<tr>
<td> <b>version.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> This transform is used to provide a single location for the Hyrax version number shown in the public interface.
</td></tr>
</table>
<p><br />
</p><p><font size="+1" style="bold">Experimental XSLT</font>
</p><p><br />
</p>
<table>
<tr>
<td><u>File</u>
</td>
<td>&#160;&#160;&#160;&#160;&#160;&#160;
</td>
<td><u>Location</u>
</td>
<td>&#160;&#160;&#160;&#160;&#160;&#160;
</td>
<td><u>Description</u>
</td></tr>
<tr>
<td> <b>dapAttributePromoter.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> <i>Experimental</i> - This XSLT file can be used to promote DAP Attributes whose names contain a namespace prefix to XML elements of the same name os the Attribute. <i>Not currently in use.</i>
</td></tr>
<tr>
<td> <b>dapAttributesToXml.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> <i>Experimental</i> - This XSLT file might be used to promote DAP Attributes encoded with special XML attributes to represent any XML to the XML the Attribute was encoded to represent. <i>Not currently in use.</i>
</td></tr>
<tr>
<td> <b>dap_2.0_ddxToRdfTriples.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> <i>Experimental</i> - This XSLT can be used to produce an RDF representation of a DAP2 DDX. <i>Not currently in use.</i>
</td></tr>
<tr>
<td> <b>dap_3.3_ddxToRdfTriples.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> <i>Experimental</i> - This XSLT can be used to produce an RDF representation of a DAP 3.3 DDX. <i>Not currently in use.</i>
</td></tr>
<tr>
<td> <b>namespaceFilter.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> <i>Experimental</i> - This XSLT can be used to filter documents so that only elements in a particular namespace are returned. <i>Not currently in use.</i>
</td></tr>
<tr>
<td> <b>wcs_coveragePage.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> <i>Experimental</i> - This XSLT is used by the prototype CEOP WCS gateway client to produce an HTML page with coverage details. <i>Not currently in use.</i>
</td></tr>
<tr>
<td> <b>wcs_coveragesList.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> <i>Experimental</i> - This XSLT is used by the prototype CEOP WCS gateway client to produce an HTML page with a list of available coverages. <i>Not currently in use.</i>
</td></tr>
<tr>
<td> <b>xmlToDapAttributes.xsl</b>
</td>
<td>
</td>
<td> <i>$CATALINA_HOME/content/opendap/docs/xsl</i>
</td>
<td>
</td>
<td> <i>Experimental</i> - This XSLT can be used to covert any XML content into a set of specially encoded DAP Attributes. The resulting Attribute elements have XML <i>type</i>  attributes that are not currently recognized by any  OPeNDAP software. <i>Not currently in use.</i>
</td></tr>
</table>
<p><br />
<br />
</p>
<h1><span class="mw-headline" id="Software_Customization"><span class="mw-headline-number">2</span> Software Customization</span></h1>
<h2><span class="mw-headline" id="OLFS_Customization"><span class="mw-headline-number">2.1</span> OLFS Customization</span></h2>
<p><a rel="nofollow" class="external text" href="http://www.opendap.org/support/bom_sdw/SDW_2r0_OLFSExtensions.ppt">Power Point Presentation From the 2007 Software Development Workshop hosted by the Australian Bureau  of Meteorology.</a>
<br />
<br />
</p>
<h2><span class="mw-headline" id="BES_Customization"><span class="mw-headline-number">2.2</span> BES Customization</span></h2>
<p><a rel="nofollow" class="external text" href="http://www.opendap.org/support/bom_sdw/SDW_4r0_BESExtensibility.ppt">Power Point Presentation From the 2007 Software Development Workshop hosted by the Australian Bureau  of Meteorology.</a>
<br />
<br />
</p>



</div>
				<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
</body></html>