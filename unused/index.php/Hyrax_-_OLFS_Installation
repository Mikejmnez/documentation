
<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Hyrax - OLFS Installation - OPeNDAP Documentation</title>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Hyrax_-_OLFS_Installation skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Hyrax - OLFS Installation</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From OPeNDAP Documentation</div>
		<div id="contentSub"></div>
		

		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><b>The OLFS comes with a default configuration that is compatible with the default configuration of the BES. If you do a default install of each one you should get a running Hyrax server that will be pre-populated with test data suitable for running the integrity tests.</b>
</p><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Install_The_BES"><span class="tocnumber">1</span> <span class="toctext">Install The BES</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Download"><span class="tocnumber">2</span> <span class="toctext">Download</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Unpack"><span class="tocnumber">3</span> <span class="toctext">Unpack</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Install"><span class="tocnumber">4</span> <span class="toctext">Install</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Setup_Tomcat"><span class="tocnumber">5</span> <span class="toctext">Setup Tomcat</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Start_Tomcat"><span class="tocnumber">6</span> <span class="toctext">Start Tomcat</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Install_The_BES"><span class="mw-headline-number">1</span> <a href="../index.php/Hyrax_-_BES_Installation" title="Hyrax - BES Installation">Install The BES</a></span></h1>
<h1><span class="mw-headline" id="Download"><span class="mw-headline-number">2</span> Download</span></h1>
<p>If you haven't already got it, go <a rel="nofollow" class="external text" href="http://www.opendap.org/download/olfs.html">get the latest OLFS distribution from here</a>. You should get the binary jar file which will be named something like: <i><b>olfs-x.x.x-webapp.tgz</b></i>
</p>
<h1><span class="mw-headline" id="Unpack"><span class="mw-headline-number">3</span> Unpack</span></h1>
<p>Unpack the jar file with the command: 
</p>
<pre>tar -xvf olfs-x.x.x-webapp.tgz
</pre>
<p>which will unpack a directory called olfs-x.x.x-webapp
</p>
<h1><span class="mw-headline" id="Install"><span class="mw-headline-number">4</span> Install</span></h1>
<p>Inside the that directory find the opendap.war file, and copy it into the Tomcat's webapps directory: 
</p>
<pre>cp olfs-x.x.x-webapp/opendap.war /usr/local/apache-tomcat-6.x.x/webapps/
</pre>
<p>(Assuming the your Tomcat server is in /usr/local) 
</p><p>If you're replacing an older version of the OLFS you may:
</p>
<ul>
<li> Need to remove the directory <tt>$CATALINA_HOME/webapps/opendap</tt> before restarting Tomcat.
</li>
<li> Discover that some of the existing configuration information for the OLFS may need to be updated. If after you start Tomcat things don't work you should compare the <tt>$CATALINA_HOME/content/opendap/olfs.xml</tt> file that contains your exisiting configuration to the new default configuration located in <tt>$CATALINA_HOME/webapps/opendap/intitalContent/olfs.xml</tt> Look at the lists of DispatchHandlers and adjust your configuration to use the same ones.
</li>
</ul>
<h1><span class="mw-headline" id="Setup_Tomcat"><span class="mw-headline-number">5</span> Setup Tomcat</span></h1>
<p>Configure the Tomcat environment by setting the environment variable CATALINA_HOME to the full path for the Tomcat distribution.
</p><p>In bash: 
</p>
<pre>export CATALINA_HOME = /usr/local/apache-tomcat-6.x.x
</pre>
<h1><span class="mw-headline" id="Start_Tomcat"><span class="mw-headline-number">6</span> Start Tomcat</span></h1>
<p>In the top level tomcat directory (apache-tomcat-6.x.x on my machine) issue the command:
</p>
<pre>bin/startup.sh; tail -f logs/catalina.out
</pre>
<p>Wait a few seconds while it all starts up.
</p><p>When Tomcat starts up it will unpack your '<i>OLFS</i> and install the webapp.
</p><p><br />
<b>Usage Note</b>: If you use <i>ctrl-c</i> to stop watching the tail of the servers output, make sure to run the command:
</p>
<pre>bin/shutdown.sh
</pre>
<p>to shutdown Tomcat. If you don't, you may get errors when you next try to start the Tomcat server.
</p><p><br />
</p>
<hr />




</div>
				<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
</body></html>