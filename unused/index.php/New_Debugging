
<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>New Debugging - OPeNDAP Documentation</title>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-New_Debugging skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary" role="main">
	
	
	<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">New Debugging</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From OPeNDAP Documentation</div>
		<div id="contentSub"></div>
		

		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>For example:
</p>
<pre>besctl start -d "bes.debug,all"
</pre>
<p>This will dump all debug statements to the file bes.debug in the same directory from where you started the BES.
</p><p>And adding debug statements to your code is easy.
</p>
<pre> BESDEBUG( "&lt;context&gt;", "I am here" &lt;&lt; endl )
</pre>
<p>The first parameter to this macro is the context of debugging. For example, if you are debugging the netcdf_handler you would use "nc" as the context. In the BES there is the bes context, ppt for the transport context, server for the server specific context, cmdln for the bescmdln specific debugging. After the context you can add anything that would be accepted by ostream. And, all BES classes are inherited from a single class, BESObj. This class has a method on it that allows you to dump the contents of that object to an ostream. All classes generated by the besCreateModule script also implement this dump method. For example, using the example hello world module provided in the BES source tree:
</p>
<pre>
void
SayResponseHandler::dump( ostream &amp;strm ) const
{
    strm &lt;&lt; BESIndent::LMarg &lt;&lt; &quot;SayResponseHandler::dump - (&quot;
			     &lt;&lt; (void *)this &lt;&lt; &quot;)&quot; &lt;&lt; endl&#160;;
    BESIndent::Indent()&#160;;
    BESResponseHandler::dump( strm )&#160;;
    BESIndent::UnIndent()&#160;;
}
</pre>
<p>In order to dump an object all you have to do is:
</p>
<pre>
SayResponseHandler *handler = new SayResponseHandler( &quot;say&quot; )&#160;;
BESDEBUG( &quot;handler = &quot; &lt;&lt; *handler &lt;&lt; endl )
</pre>
<p>In your Module class you should register your context, so that when -h is specified to beslistener you can see all context available for debugging. To register, in your Module class in the initialize method simply add the following line:
</p>
<pre>
BESDebug::Register( &quot;&lt;context&gt;&quot; )&#160;;
</pre>
<p>where context is your component name (nc for netcdf_handler, ff for freeform_handler, etc...)
</p>



</div>
				<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
</body></html>